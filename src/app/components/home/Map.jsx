"use client";
import React from "react";
import dynamic from "next/dynamic";

// Dynamic import of react-leaflet components
const MapContainer = dynamic(
  () => import("react-leaflet").then((module) => module.MapContainer),
  {
    ssr: false, // Disable server-side rendering for this component
  }
);
const TileLayer = dynamic(
  () => import("react-leaflet").then((module) => module.TileLayer),
  {
    ssr: false,
  }
);
const Marker = dynamic(
  () => import("react-leaflet").then((module) => module.Marker),
  {
    ssr: false,
  }
);
const Popup = dynamic(
  () => import("react-leaflet").then((module) => module.Popup),
  {
    ssr: false,
  }
);
const Polygon = dynamic(
  () => import("react-leaflet").then((module) => module.Polygon),
  {
    ssr: false, // Disable server-side rendering for this component
  }
);
const polygon = [
  [-7.7082456, 110.2905488],
  [-7.7075374, 110.2910832],
  [-7.7073663, 110.2910235],
  [-7.7073279, 110.2910101],
  [-7.7070584, 110.290916],
  [-7.706317, 110.2912052],
  [-7.7060307, 110.2916854],
  [-7.7056722, 110.2919979],
  [-7.7048346, 110.2919993],
  [-7.7041411, 110.2922884],
  [-7.7037343, 110.292337],
  [-7.703351, 110.2921217],
  [-7.7028485, 110.2921466],
  [-7.7024184, 110.2925551],
  [-7.7033557, 110.2949287],
  [-7.7037163, 110.2959597],
  [-7.7029758, 110.2967526],
  [-7.7015904, 110.2983862],
  [-7.6997687, 110.2966379],
  [-7.6994341, 110.2968784],
  [-7.699291, 110.2972145],
  [-7.6986698, 110.2977913],
  [-7.698862, 110.2982948],
  [-7.6986952, 110.2987029],
  [-7.6985775, 110.2999026],
  [-7.697502, 110.300768],
  [-7.696761, 110.301345],
  [-7.6967137, 110.301657],
  [-7.6958771, 110.3022821],
  [-7.6953037, 110.3028588],
  [-7.6952568, 110.3034586],
  [-7.6944916, 110.3038437],
  [-7.6949229, 110.3041789],
  [-7.6962406, 110.3050644],
  [-7.6962768, 110.3051005],
  [-7.6964803, 110.3053039],
  [-7.6964807, 110.3055918],
  [-7.6961941, 110.3059041],
  [-7.6958727, 110.3060444],
  [-7.6954766, 110.3062172],
  [-7.6949985, 110.3065298],
  [-7.6947356, 110.3066982],
  [-7.6951676, 110.3074652],
  [-7.6955032, 110.3077765],
  [-7.697994, 110.308948],
  [-7.6984254, 110.3093311],
  [-7.6987132, 110.3097385],
  [-7.6989063, 110.3107458],
  [-7.6988359, 110.3116336],
  [-7.6986216, 110.3123057],
  [-7.6981915, 110.3127142],
  [-7.6973784, 110.3130994],
  [-7.6969482, 110.3134359],
  [-7.6965661, 110.3139403],
  [-7.6964471, 110.3143963],
  [-7.6969509, 110.3151153],
  [-7.6969996, 110.3156909],
  [-7.6971143, 110.3161475],
  [-7.6971442, 110.3162665],
  [-7.6976962, 110.3172972],
  [-7.6979369, 110.3181605],
  [-7.6980578, 110.318952],
  [-7.6983463, 110.3197672],
  [-7.6983231, 110.3202231],
  [-7.6981567, 110.3209191],
  [-7.6981101, 110.3211354],
  [-7.6981038, 110.3211646],
  [-7.6983132, 110.3211249],
  [-7.6990311, 110.3210998],
  [-7.6997724, 110.3206908],
  [-7.7004419, 110.3203298],
  [-7.7021643, 110.3199192],
  [-7.7034553, 110.3191015],
  [-7.7048178, 110.3180437],
  [-7.7048169, 110.3175159],
  [-7.7050795, 110.3170597],
  [-7.7050543, 110.316292],
  [-7.7056027, 110.3150436],
  [-7.7062964, 110.3148265],
  [-7.7068946, 110.3147776],
  [-7.7071335, 110.3145133],
  [-7.7073242, 110.3140332],
  [-7.7078744, 110.3139123],
  [-7.7082812, 110.3138877],
  [-7.7087355, 110.3135991],
  [-7.7089504, 110.3133348],
  [-7.7089503, 110.3132325],
  [-7.7089498, 110.312927],
  [-7.708758, 110.3126874],
  [-7.7087575, 110.3124235],
  [-7.7092601, 110.3123987],
  [-7.7094993, 110.3123743],
  [-7.7095228, 110.3120624],
  [-7.7093307, 110.3116788],
  [-7.7090668, 110.3112954],
  [-7.7093293, 110.3107911],
  [-7.7102616, 110.3101659],
  [-7.710693, 110.310549],
  [-7.7114822, 110.3102359],
  [-7.7117946, 110.3110031],
  [-7.7123209, 110.3109063],
  [-7.7123691, 110.3110981],
  [-7.7120883, 110.3114209],
  [-7.7120347, 110.3114825],
  [-7.7127052, 110.3117453],
  [-7.7132557, 110.3118164],
  [-7.7135189, 110.311744],
  [-7.7139732, 110.3115274],
  [-7.715313, 110.3112853],
  [-7.715276, 110.3110576],
  [-7.7151921, 110.3105417],
  [-7.7161735, 110.3106121],
  [-7.7170585, 110.3103468],
  [-7.7174643, 110.3097223],
  [-7.717296, 110.3091948],
  [-7.7164108, 110.3093882],
  [-7.7154752, 110.3079982],
  [-7.7159293, 110.3076376],
  [-7.7162091, 110.3071868],
  [-7.7162394, 110.3069414],
  [-7.7153293, 110.306511],
  [-7.7152807, 110.3060553],
  [-7.7154716, 110.3056951],
  [-7.7154706, 110.3051193],
  [-7.7152058, 110.3041601],
  [-7.7153373, 110.3040908],
  [-7.715282, 110.302958],
  [-7.7153322, 110.3022623],
  [-7.7151508, 110.3013351],
  [-7.7153821, 110.301309],
  [-7.7155869, 110.3008449],
  [-7.7157659, 110.3002778],
  [-7.7164084, 110.3003025],
  [-7.716639, 110.2998384],
  [-7.7165867, 110.2993232],
  [-7.7169718, 110.2990391],
  [-7.7168679, 110.2983952],
  [-7.7170725, 110.2978023],
  [-7.7170348, 110.29768],
  [-7.7168658, 110.2971328],
  [-7.7161705, 110.2962837],
  [-7.715116, 110.2957444],
  [-7.7151396, 110.2945077],
  [-7.7151124, 110.2935545],
  [-7.7153679, 110.2926781],
  [-7.7153668, 110.292034],
  [-7.7149026, 110.2910299],
  [-7.7146711, 110.2909273],
  [-7.714131, 110.2906963],
  [-7.7140814, 110.2905808],
  [-7.7138214, 110.2899754],
  [-7.7134096, 110.2895896],
  [-7.712818, 110.2893072],
  [-7.7126128, 110.2895137],
  [-7.7124073, 110.2895655],
  [-7.7114563, 110.2894898],
  [-7.7108149, 110.2901865],
  [-7.7093248, 110.2904467],
  [-7.7094027, 110.2909618],
  [-7.7091458, 110.290988],
  [-7.7084514, 110.29068],
  [-7.7082456, 110.2905488],
];

const purpleOptions = { color: "purple" };
const position = [-7.7083, 110.3077];

export default function Map() {
  return (
    <MapContainer center={position} zoom={14} scrollWheelZoom={true}>
      <TileLayer
        attribution='&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        url="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"
      />
      <Marker position={position}>
        <Popup>Kantor Kalurahan Margoagung</Popup>
      </Marker>
      <Polygon pathOptions={purpleOptions} positions={polygon} />
    </MapContainer>
  );
}
